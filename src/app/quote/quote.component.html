<div class="container-fluid">

  <div class="row">
    <!-- <button (click)="onNew()" class="btn btn-info form-btn" id="form-btn" data-toggle="modal" data-target="#add-quote">Add Quote</button> -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addQuote">
      Add Quote
    </button>

    <div class="modal" id="addQuote">
      <div class="modal-dialog">
        <div class="modal-content">
    
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Add Quote</h4>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
    
          <!-- Modal body -->
          <div class="modal-body">
            <form (ngSubmit)="onSave()" *ngIf="showNew">
              <div class="mb-3">
                <label for="message-text" class="col-form-label">Enter text:</label>
                <textarea class="form-control" ([(ngModel)]="quoteModel.text" placeholder="Add your quote..." rows="6"
                name="text" id="text-input" required></textarea>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Author name:</label>
                <input class="form-control" type="text" ([(ngModel)]="quoteModel.author" name="author" id="author-input"
                placeholder="Quote Author" required>
              </div>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Poster:</label>
                <input id="poster-input" class="form-control" type="text" ([(ngModel)]="quoteModel.poster" name="poster"
                placeholder="Name" required>
              </div>

            </form>
          </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Add Quote</button>
            </div>
      
          </div>
        </div>
      </div>



              
  <form (ngSubmit)="onSave()" *ngIf="showNew" id="quote-form">

    <span (click)="onCancel()" class="del"></span>

    <div class="form-group">
      <label for="text-input">Quote</label>
      <textarea class="form-control" ([(ngModel)]="quoteModel.text" placeholder="Add your quote..." rows="6"
        name="text" id="text-input" required></textarea>
    </div>
   
    <div class="form-group">
      <label for="author-input">Author</label>
      <input class="form-control" type="text" ([(ngModel)]="quoteModel.author" name="author" id="author-input"
        placeholder="Quote Author" required>
    </div>

    <div class="form-group">
      <label for="poster-input">Poster</label>
      <input id="poster-input" class="form-control" type="text" ([(ngModel)]="quoteModel.poster" name="poster"
        placeholder="Name" required>
    </div>
    <button type="submit" class="btn btn-success btn-lg">Add Quote</button>
    <button id=cancelQuote class="btn btn-warning" (click)='onCancel()'>Cancel</button>
  </form>


  <div class="container">
    <div class="row">
      <div class="card-columns">

        <div class="card" *ngFor='let quote of quotes;let i = index'>
          <div class="card-body">
            <p appHighlight>{{quote.text}} </p>
            <p>{{quote.author}}</p>
          </div>
          <div class="card-footer">
            <app-quote-details [quote]='quote'></app-quote-details>
            <span (click)="delete()" class="del"></span>
          </div>

          <div class="card-footer">
            <div class="row">
              <div class="col-3 action">
                {{quote.upvotes}}
              </div>
              <div class="col-3 action" (click)="quote.upvotes = quote.upvotes + 1">
                <i class="fa fa-thumbs-up"></i>
              </div>
              <div class="col-3 action" (click)="quote.downvotes = quote.downvotes + 1">
                <i class="fa fa-thumbs-down"></i>
              </div>
              <div class="col-3 action">
                {{quote.downvotes}}
              </div>
               <button class="btn btn-danger" (click)='delete()'>Delete Quote </button>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
